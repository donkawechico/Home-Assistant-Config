#script:
#  cast_to_projector:
#  alias: Cast a URL to a Projector
#  sequence:
#  - service: switch.turn_on
#    entity_id: switch.suncast_fireplace
#  - service: remote.send_command
#    data_template:
#      command: PowerToggle
#      device: "{{ harmony_device_id }}"
#      entity_id: remote.harmony_hub

script:
  turn_on_and_cast_to_projector:
    alias: Select a projector and cast a URL to it
    sequence:
    - service: remote.send_command
      data_template:
       command: PowerToggle
       device: "{{ harmony_device_id }}"
       entity_id: remote.harmony_hub
    - delay: 00:00:30
    - service: shell_command.start_casting_to_chromecast
      data_template:
        chromecast_name: '{{ chromecast_hostname }}'
        url: '{{ url }}'
  david_lynch_entry:
    alias: "Set entry projector to red room compilation"
    sequence:
    - service: script.turn_on_and_cast_to_projector
      data:
        harmony_device_id: '44803053'
        chromecast_hostname: 'entry'
        url: 'https://www.youtube.com/watch?v=S7O1SQm1j5s'
  david_lynch_sun:
    alias: "Set Sun Projector to machine loop"
    sequence:
    - service: script.turn_on_and_cast_to_projector
      data:
        harmony_device_id: '44803053'
        chromecast_hostname: 'sun'
        url: 'https://www.youtube.com/watch?v=tSiplbYDHCU'
  david_lynch_livingroom:
    alias: "Set Livingroom Projector to 30s room"
    sequence:
    - service: shell_command.start_casting_to_chromecast
      data:
        chromecast_hostname: 'livingroom'
        url: 'https://www.youtube.com/watch?v=Ut-YGrhY36s'
  david_lynch_projections:
    alias: "Turn on all projectors and cast lynchy shit"
    sequence:
    - service: script.david_lynch_entry
    - service: script.david_lynch_sun
    - service: script.david_lynch_livingroom


shell_command:
  start_casting_to_chromecast: "/usr/local/bin/catt -d {{ chromecast_name }} cast {{ url }}"
  stop_casting_to_chromecast: "/usr/local/bin/catt stop"
